"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[212],{7212:(D,l,n)=>{n.r(l),n.d(l,{DetailsModule:()=>P});var c=n(6814),u=n(7274),a=n(7920),p=n(4221),d=n(3254),h=n(8293),t=n(5879),m=n(9019),g=n(4573),f=n(5987);function k(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"app-bookmark-button",9),t.NdJ("clicked",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.bookmark())}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("isBookmarked",e.isBookmarked)}}function x(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"app-add-to-cart-button",10),t.NdJ("clicked",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addToCart(i.record))}),t.qZA()}}let b=(()=>{class o{constructor(e,r,i){this.activatedRoute=e,this.store=r,this.cartService=i,this.isBookmarked=!1,this.user$=this.store.pipe((0,p.Ys)(h.np))}ngOnInit(){this.routeSubscription=this.activatedRoute.data.subscribe(({record:e})=>{this.record=e,this.chekIsBookmarked()})}bookmark(){this.isBookmarked?(this.store.dispatch(d.dO({record_id:this.record._id})),this.isBookmarked=!1):this.isBookmarked||(this.store.dispatch(d.vj({record_id:this.record._id})),this.isBookmarked=!0),this.store.dispatch(d.oE())}chekIsBookmarked(){this.userSunscription$=this.user$.subscribe(e=>{const r=e?e.sub||e.id:null;r&&this.record.bookmarked_by.includes(r)&&(this.isBookmarked=!0)})}addToCart(e){this.cartService.addItem(e)}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.userSunscription$.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.gz),t.Y36(p.yh),t.Y36(m.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-details"]],decls:22,vars:15,consts:[[1,"record-container"],[1,"record-poster"],[3,"isBookmarked","clicked",4,"ngIf"],["media","(min-width: 720px)",3,"srcset"],["media","(max-width: 719px)",3,"srcset"],[3,"src","alt"],[1,"record-details"],[1,"record-footer"],[3,"clicked",4,"ngIf"],[3,"isBookmarked","clicked"],[3,"clicked"]],template:function(e,r){1&e&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,k,1,1,"app-bookmark-button",2),t.ALo(3,"async"),t.TgZ(4,"picture"),t._UZ(5,"source",3)(6,"source",4)(7,"img",5),t.qZA()(),t.TgZ(8,"div",6)(9,"h1"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.qZA(),t.TgZ(17,"div",7)(18,"p"),t._uU(19),t.qZA(),t.YNc(20,x,1,0,"app-add-to-cart-button",8),t.ALo(21,"async"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,11,r.user$)),t.xp6(3),t.Q6J("srcset",r.record.poster_large),t.xp6(1),t.Q6J("srcset",r.record.poster_small),t.xp6(1),t.Q6J("src",r.record.poster_large,t.LSH)("alt",r.record.title),t.xp6(3),t.Oqu(r.record.title),t.xp6(2),t.Oqu(r.record.description),t.xp6(2),t.hij("Year: ",r.record.year,""),t.xp6(2),t.hij("Duration: ",r.record.duration," min"),t.xp6(3),t.hij("Price: ",r.record.price," $"),t.xp6(1),t.Q6J("ngIf",t.lcZ(21,13,r.user$)))},dependencies:[c.O5,g.m,f.y,c.Ov],styles:["[_nghost-%COMP%]{flex:1;gap:25px;display:flex;overflow-y:scroll;flex-wrap:wrap;height:calc(100% - 5px);align-items:center;border-radius:10px;max-width:1000px;box-shadow:2px 2px 2px #0000008a}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .bookmark-btn[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}[_nghost-%COMP%]   .record-poster[_ngcontent-%COMP%]{background-color:#8a2be2;border-radius:10px;width:100%;overflow:hidden;flex-grow:2;flex-shrink:1;position:relative}[_nghost-%COMP%]   picture[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:cover}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:fill}[_nghost-%COMP%]   .record-details[_ngcontent-%COMP%]{padding:10px;width:100%;display:flex;flex-direction:column;flex-grow:1;flex-shrink:2;font-size:18px}[_nghost-%COMP%]   .record-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}[_nghost-%COMP%]   .record-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:auto}@media (min-width: 720px){.record-container[_ngcontent-%COMP%]{flex-direction:row!important}}"]}),o})();var C=n(3724);const O=[{path:"",component:b,resolve:{record:o=>((o,s=(0,t.f3M)(C.I))=>s.getRecord(o.params.id))(o)}}];let _=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.Bz.forChild(O),a.Bz]}),o})();var y=n(943),Z=n(7525);let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,_,u.q,y.F,Z.M]}),o})()}}]);